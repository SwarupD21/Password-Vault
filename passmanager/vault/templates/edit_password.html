{% extends "layout.html" %}
{% block title %}Edit Password{% endblock %}

{% block content %}
<style>
  body {
    background: linear-gradient(180deg, #0f2027, #203a43);
  }

  .vault-card {
    background: rgba(255,255,255,0.06);
    backdrop-filter: blur(10px);
    border-radius: 16px;
    color: #fff;
    animation: fadeUp 0.6s ease;
  }
</style>

<div class="container d-flex justify-content-center align-items-center min-vh-100">
  <div class="col-md-6 vault-card p-4 shadow">

    <h4 class="mb-3">‚úèÔ∏è Edit Password</h4>
    <hr class="border-light opacity-25">

    <form method="POST">
      {% csrf_token %}

      <div class="mb-3">
        <label class="form-label">Service</label>
        <input type="text" name="name" class="form-control" value="{{ entry.name }}" required>
      </div>

      <div class="mb-3">
        <label class="form-label">Username / Email</label>
        <input type="text" name="login_identifier" class="form-control" value="{{ entry.login_identifier }}" required>
      </div>

      <div class="mb-3">
        <label class="form-label">
          New Password
          <small class="">(optional)</small>
        </label>
        <div class="input-group">
          <input type="password" name="encrypted_password" id="passwordInput" class="form-control">
          <button type="button" class="btn btn-outline-light" onclick="togglePassword()">üëÅÔ∏è</button>
        </div>
      </div>

      <div class="mb-3">
        <label class="form-label">Notes</label>
        <textarea name="notes" class="form-control">{{ entry.notes }}</textarea>
      </div>

      <div class="d-flex justify-content-between mt-4">
        <button class="btn btn-success">Update</button>
        <a href="{% url 'vault_view' %}" class="btn btn-secondary">Cancel</a>
      </div>

    </form>

  </div>
</div>

<script>
function togglePassword() {
  const input = document.getElementById("passwordInput");
  input.type = input.type === "password" ? "text" : "password";
}
</script>
{% endblock %}
